

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Intégration continue avec Jenkins &mdash; Documentation Les tests </title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_rtd_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="prev" title="Maven" href="maven.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Les tests
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Recherche dans les pages" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Les tests unitaires</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../test/junit.html">Les tests unitaires automatisés avec JUnit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../test/junit.html#junit">JUnit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../test/junit.html#structure-d-une-classe-de-test-junit">Structure d’une classe de test JUnit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../test/junit.html#execution-des-tests-junit">Exécution des tests JUnit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../test/junit.html#les-methodes-de-test">Les méthodes de test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../test/junit.html#les-assertions">Les assertions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../test/junit.html#les-fixtures">Les fixtures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../test/junit.html#tester-les-exceptions">Tester les exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../test/junit.html#utilisation-de-doublure">Utilisation de doublure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../test/junit.html#implementation-d-objet-mock-avec-mockito">Implémentation d’objet mock avec Mockito</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../test/python_unittest.html">Les tests unitaires automatisés avec Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../test/python_unittest.html#structure-d-une-classe-de-test">Structure d’une classe de test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../test/python_unittest.html#execution-des-tests">Exécution des tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../test/python_unittest.html#tester-des-exceptions">Tester des exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/python_unittest.html#exercice">Exercice</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/python_unittest.html#utilisation-de-doublure">Utilisation de doublure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../test/python_unittest.html#utilisation-d-un-objet-mock">Utilisation d’un objet <em>mock</em></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../test/tdd.html">TDD : Test Driven Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../test/tdd.html#qu-est-ce-qu-un-test">Qu’est-ce qu’un test ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/tdd.html#test-driven-development">Test Driven Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../test/tdd.html#le-mantra-du-tdd">Le Mantra du TDD</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../test/tdd.html#qu-est-ce-que-concevoir">Qu’est-ce que concevoir ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/tdd.html#exercices">Exercices</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Les tests d'acceptation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../test_acceptation/test_acceptation.html">Les tests d’acceptation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../test_acceptation/test_acceptation.html#recette-fonctionnelle">Recette fonctionnelle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_acceptation/test_acceptation.html#test-d-acceptation-agile">Test d’acceptation agile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_acceptation/test_acceptation.html#notion-de-cas-de-test">Notion de cas de test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_acceptation/test_acceptation.html#scenario-de-test">Scénario de test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_acceptation/test_acceptation.html#rapport-de-test">Rapport de test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test_acceptation/test_acceptation.html#exercice">Exercice</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Introduction à Git</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../git/git.html">Git</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#initialisation-d-un-depot">Initialisation d’un dépôt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#suivi-des-modifications-du-depot">Suivi des modifications du dépôt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#validation-des-modifications">Validation des modifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#utilisation-d-un-depot-distant">Utilisation d’un dépôt distant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#exclusion-de-fichiers">Exclusion de fichiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#les-etiquettes">Les étiquettes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#les-branches">Les branches</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../git/git.html#rebase">Rebase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#git-hub">Git Hub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#references">Références</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git.html#exercices">Exercices</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Industrialisation des processus de test</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="maven.html">Maven</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maven.html#utilisation-de-maven-en-ligne-de-commandes">Utilisation de Maven en ligne de commandes</a></li>
<li class="toctree-l2"><a class="reference internal" href="maven.html#exercice">Exercice</a></li>
<li class="toctree-l2"><a class="reference internal" href="maven.html#gestion-des-plugins-dans-maven">Gestion des plugins dans Maven</a></li>
<li class="toctree-l2"><a class="reference internal" href="maven.html#association-d-un-plugin-a-une-phase-d-execution">Association d’un plugin à une phase d’exécution</a></li>
<li class="toctree-l2"><a class="reference internal" href="maven.html#deploiement-automatise-dans-tomcat">Déploiement automatisé dans Tomcat</a></li>
<li class="toctree-l2"><a class="reference internal" href="maven.html#exercices">Exercices</a></li>
<li class="toctree-l2"><a class="reference internal" href="maven.html#export-des-identifiants-du-serveur">Export des identifiants du serveur</a></li>
<li class="toctree-l2"><a class="reference internal" href="maven.html#exercice-bonus">Exercice bonus</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Intégration continue avec Jenkins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation-de-jenkins">Installation de Jenkins</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exercices">Exercices</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Les tests</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Accueil</a> &raquo;</li>
        
      <li>Intégration continue avec Jenkins</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
      
        <a href="maven.html" class="btn btn-neutral" title="Maven" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Précédent</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="integration-continue-avec-jenkins">
<h1>Intégration continue avec Jenkins<a class="headerlink" href="#integration-continue-avec-jenkins" title="Lien permanent vers ce titre">¶</a></h1>
<p><a class="reference external" href="https://jenkins.io/index.html">Jenkins</a> est un serveur d’intégration continue. Il permet d’automatiser un
certain nombre d’opérations (compilation, packaging, tests) afin de les réaliser
aussi souvent que nécessaire. Une équipe de développement peut ainsi créer un
<em>pipeline</em> automatisé de développement lui permettant de vérifier la qualité de ce
qui est produit au fur et à mesure des développements.</p>
<div class="section" id="installation-de-jenkins">
<h2>Installation de Jenkins<a class="headerlink" href="#installation-de-jenkins" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour Windows, <a class="reference external" href="https://jenkins.io/index.html">Jenkins</a> est disponible sous la forme d’un exécutable qui s’installe comme un service.
Mais <a class="reference external" href="https://jenkins.io/index.html">Jenkins</a> est en fait une application Web Java. Il est donc aussi téléchargeable
sous la forme d’un fichier WAR qui peut être déployé dans un serveur Web Java.</p>
<p>Pour simplifier l’exécution, les développeurs ont intégré un mini serveur Web
à l’intérieur du fichier WAR. De manière exceptionnelle, l’application Web est
donc directement exécutable. Pour cela, il faut se rendre en ligne de commandes
dans le répertoire contenant le fichier <code class="file docutils literal notranslate"><span class="pre">jenkins.war</span></code> et taper la commande :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>java -jar jenkins.war
</pre></div>
</div>
</div>
<div class="section" id="exercices">
<h2>Exercices<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h2>
<div class="exercice admonition">
<p class="admonition-title">Démarrer et configurer Jenkins</p>
<p>Téléchargez Jenkins sous la forme d’un fichier WAR à l’adresse</p>
<p><a class="reference external" href="http://mirrors.jenkins.io/war-stable/latest/jenkins.war">http://mirrors.jenkins.io/war-stable/latest/jenkins.war</a></p>
<p>Attention si vous avez déjà un serveur Web utilisant le port 8080, vous
devez préciser un nouveau port pour <a class="reference external" href="https://jenkins.io/index.html">Jenkins</a> lors de son lancement :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ java -jar jenkins.war --httpPort<span class="o">=</span><span class="m">9090</span>
</pre></div>
</div>
<p>Vous pouvez ensuite vous connecter à <a class="reference external" href="https://jenkins.io/index.html">Jenkins</a> à l’adresse :</p>
<blockquote>
<div><p><a class="reference external" href="http://localhost:9090">http://localhost:9090</a></p>
</div></blockquote>
<p>Pour finaliser l’installation, il vous faudra :</p>
<ul class="simple">
<li><p>Valider votre installation en fournissant la clé d’administration</p></li>
<li><p>Finir l’installation en faisant télécharger les plugins recommandés</p></li>
<li><p>Créer un compte administrateur (le mail demandé n’a pas besoin d’être valide
pour une installation de test).</p></li>
</ul>
<p>Une fois connecté à Jenkins, il vous faut aller dans la section
<span class="guilabel">Administrer Jenkins</span> puis dans <span class="guilabel">Configuration globale des outils</span>.
Là, vous pouvez préciser les chemins des exécutables pour les outils nécessaires
à Jenkins : le JDK, Git et Maven.</p>
</div>
<div class="exercice admonition">
<p class="admonition-title">Configurer un job Jenkins à partir d’un dépôt Git</p>
<p>Configurez un job Jenkins pour récupérer votre projet depuis un dépôt Git
distant, générer le package et déployer l’application sous Tomcat.</p>
<p>Assurez-vous que le job sera lancé régulièrement par Jenkins pour prendre
en compte les modifications qui seront apportées dans le dépôt Git.</p>
</div>
<div class="exercice admonition">
<p class="admonition-title">Ajouter des rapports de tests</p>
<p>Dans la configuration du job de votre projet, ajoutez comme <em>action à la suite du build</em> :
<span class="guilabel">Publier le rapport des résultats des tests JUnit</span>. Configurez
cette action pour qu’elle exploite les fichiers XML de rapport JUnit qui sont
produits dans le répertoire <code class="file docutils literal notranslate"><span class="pre">target/surefire-reports</span></code> de votre projet.</p>
<p>Ajoutez dans Jenkins le plugin JaCoCo (<span class="guilabel">Administrer Jenkins</span> &gt; <span class="guilabel">Gestion des plugins</span>).
Dans la configuration du job de votre projet, ajoutez comme <em>action à la suite du build</em> :
<span class="guilabel">Record JaCoCo coverage report</span>. Testez avec la configuration par défaut.</p>
</div>
<div class="exercice admonition">
<p class="admonition-title">Tester votre usine logiciel</p>
<p>Clonez votre dépôt Git et importez votre projet dans un IDE. Ajoutez des tests
unitaires et poussez vos modifications sur votre dépôt distant.</p>
<p>Vérifiez que Jenkins reconstruit bien votre projet et vérifiez les rapports
de test qui sont ainsi produits.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="maven.html" class="btn btn-neutral float-left" title="Maven" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Précédent</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright David Gayerie - david.gayerie@reseau-cd.net - CC-BY-SA

    </p>
  </div>
    <div>Téléchargez ce support au format <a class="reference download" href="https://github.com/spoonless/epsi-b3-test/archive/gh-pages.zip">HTML</a>
    </div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>